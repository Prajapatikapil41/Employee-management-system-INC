{"ast":null,"code":"var _jsxFileName = \"D:\\\\Job Project\\\\frontend\\\\src\\\\components\\\\EventDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getEvent, markViewed } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EventDetails({\n  id,\n  user,\n  onBack,\n  onEdit\n}) {\n  _s();\n  const [event, setEvent] = useState(null);\n  useEffect(() => {\n    load();\n  }, [id]);\n  async function load() {\n    const e = await getEvent(id);\n    setEvent(e);\n    // guard: only call markViewed when we have a user id\n    try {\n      if (user && user.id) {\n        await markViewed(id, user.id);\n      }\n    } catch (err) {\n      console.error('markViewed failed', err);\n    }\n  }\n  if (!event) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\u0932\\u094B\\u0921 \\u0939\\u094B \\u0930\\u0939\\u093E \\u0939\\u0948...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button secondary\",\n      onClick: onBack,\n      children: \"\\u0935\\u093E\\u092A\\u0938\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: event.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u0935\\u093F\\u0935\\u0930\\u0923:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 12\n      }, this), \" \", event.description]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u0936\\u0941\\u0930\\u0942:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 12\n      }, this), \" \", event.start_datetime]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u0938\\u092E\\u093E\\u092A\\u094D\\u0924:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 12\n      }, this), \" \", event.end_datetime]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u091C\\u093E\\u0930\\u0940 \\u0915\\u0930\\u0928\\u0947 \\u0915\\u0940 \\u0924\\u093F\\u0925\\u093F:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 12\n      }, this), \" \", event.issue_date]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u0938\\u094D\\u0925\\u093E\\u0928:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 12\n      }, this), \" \", event.location]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u0938\\u094D\\u0924\\u0930:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 12\n      }, this), \" \", event.level]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: event.photos && JSON.parse(event.photos || '[]').map((p, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: p,\n        alt: \"\",\n        style: {\n          height: 80,\n          marginRight: 6\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 71\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: event.media_photos && JSON.parse(event.media_photos || '[]').map((p, i) => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: p,\n        alt: \"\",\n        style: {\n          height: 80,\n          marginRight: 6\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 83\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: event.video_path && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0935\\u0940\\u0921\\u093F\\u092F\\u094B:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 59\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          controls: true,\n          width: \"400\",\n          src: event.video_path\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 65\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: () => onEdit(id),\n        children: \"\\u0905\\u092A\\u0921\\u0947\\u091F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n_s(EventDetails, \"L3AF/wPAb2ISKregJgH/wSNGjxk=\");\n_c = EventDetails;\nvar _c;\n$RefreshReg$(_c, \"EventDetails\");","map":{"version":3,"names":["React","useEffect","useState","getEvent","markViewed","jsxDEV","_jsxDEV","EventDetails","id","user","onBack","onEdit","_s","event","setEvent","load","e","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","name","description","start_datetime","end_datetime","issue_date","location","level","style","marginTop","photos","JSON","parse","map","p","i","src","alt","height","marginRight","media_photos","video_path","controls","width","_c","$RefreshReg$"],"sources":["D:/Job Project/frontend/src/components/EventDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getEvent, markViewed } from '../api';\r\n\r\nexport default function EventDetails({ id, user, onBack, onEdit }){\r\n  const [event, setEvent] = useState(null);\r\n  useEffect(()=>{ load(); }, [id]);\r\n\r\n  async function load(){\r\n    const e = await getEvent(id);\r\n    setEvent(e);\r\n    // guard: only call markViewed when we have a user id\r\n    try {\r\n      if (user && user.id) {\r\n        await markViewed(id, user.id);\r\n      }\r\n    } catch (err) {\r\n      console.error('markViewed failed', err);\r\n    }\r\n  }\r\n\r\n  if (!event) return <div>लोड हो रहा है...</div>;\r\n  return (\r\n    <div>\r\n      <button className='button secondary' onClick={onBack}>वापस</button>\r\n      <h2>{event.name}</h2>\r\n      <div><strong>विवरण:</strong> {event.description}</div>\r\n      <div><strong>शुरू:</strong> {event.start_datetime}</div>\r\n      <div><strong>समाप्त:</strong> {event.end_datetime}</div>\r\n      <div><strong>जारी करने की तिथि:</strong> {event.issue_date}</div>\r\n      <div><strong>स्थान:</strong> {event.location}</div>\r\n      <div><strong>स्तर:</strong> {event.level}</div>\r\n      <div style={{marginTop:10}}>\r\n        {event.photos && JSON.parse(event.photos || '[]').map((p,i)=>(<img key={i} src={p} alt='' style={{height:80, marginRight:6}} />))}\r\n      </div>\r\n      <div style={{marginTop:10}}>\r\n        {event.media_photos && JSON.parse(event.media_photos || '[]').map((p,i)=>(<img key={i} src={p} alt='' style={{height:80, marginRight:6}} />))}\r\n      </div>\r\n      <div style={{marginTop:10}}>\r\n        {event.video_path && <div><strong>वीडियो:</strong><br /><video controls width='400' src={event.video_path} /></div>}\r\n      </div>\r\n      <div style={{marginTop:10}}>\r\n        <button className='button' onClick={()=>onEdit(id)}>अपडेट</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}